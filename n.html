<html>
  <head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <title>Login Form</title>
  
  <meta name='viewport' content='width=device-width, initial-scale=1'>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.css"></script>
   <script src="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap4.min.css"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
   <script src="https://cdn.datatables.net/v/dt/dt-1.10.18/sl-1.3.0/datatables.min.js"></script>
   <script src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap4.min.js"></script>
        
</head>
 
<style>
  body{
    padding: 30px;
    background: #E8F2FF;
    color: #000000;
    font-size: 18px;
  }
  table.dataTable  tbody>tr >.selected {
      background-color: #d9e2f2;
    color: #000;
  }
  .table{
    background: #ffffff;
  }
     
      
    
    
    
    
    </style>
     
    <body>
     
      <div class="container">
        <h3 class="pb-5 text-center">jQuery DataTables: How to select columns Using checkboxes</h3>
        <table id="example" class="display table table-bordered" cellspacing="0" width="100%">
          <thead>
              <tr>
                  <th>Name</th>
                  <th>Position</th>
                  <th>Office</th>
                  <th>Age</th>
                  <th>Start date</th>
                  <th>Salary</th>
              </tr>
              <tr class="column-selector text-center">
                  <th><input type="checkbox"></th>
                  <th><input type="checkbox"></th>
                  <th><input type="checkbox"></th>
                  <th><input type="checkbox"></th>
                  <th><input type="checkbox"></th>
                  <th><input type="checkbox"></th>
              </tr>
          </thead>
          <tfoot>
              <tr>
                  <th>Name</th>
                  <th>Position</th>
                  <th>Office</th>
                  <th>Age</th>
                  <th>Start date</th>
                  <th>Salary</th>
              </tr>
          </tfoot>
          <tbody>
              <tr>
                  <td>Tiger Nixon</td>
                  <td class="selected">System Architect</td>
                  <td>Edinburgh</td>
                  <td>1</td>
                  <td>2011/04/25</td>
                  <td>$320,800</td>
              </tr>
              <tr>
                  <td>Garrett Winters</td>
                  <td>Accountant</td>
                  <td>Tokyo</td>
                  <td>63</td>
                  <td>2011/07/25</td>
                  <td>$170,750</td>
              </tr>
              <tr>
                  <td>Ashton Cox</td>
                  <td>Junior Technical Author</td>
                  <td>San Francisco</td>
                  <td>66</td>
                  <td>2009/01/12</td>
                  <td>$86,000</td>
              </tr>
              <tr>
                  <td>Bradley Greer</td>
                  <td>Software Engineer</td>
                  <td>London</td>
                  <td>41</td>
                  <td>2012/10/13</td>
                  <td>$132,000</td>
              </tr>

            </tbody>

          </table>
        <script>
            
          $(document).ready(function (){
            var table = $('#example').DataTable({
               'orderCellsTop': true,
               'select': 'api'
            });
            
            // Handle click event on a checkbox
              $('#example').on('click', 'thead .column-selector th input[type="checkbox"]', function(e){
                e.stopPropagation();
              //alert('hi');
                var colIdx = $(this).closest('th').index();
                console.log(colIdx);
                if(this.checked){
                  table.column(colIdx).select();
                } else {
                  table.column(colIdx).deselect();      
                }
              });
            
            // Handle click event on header cell containg a checkbox
            $('#example').on('click', 'thead .column-selector th', function(e){
               $('input[type="checkbox"]', this).trigger('click');
            });
        });
         
        
     
            
     
            
     
        </script>
    </body>
    </html>
     